<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	
	<title>TacGEarPH - Checkout</title>
	<link rel="stylesheet" href="Milsim.css">
</head>
	
<header>
	<center>
	<img src = "https://cdn.pixabay.com/photo/2014/11/28/21/43/milsim-549304_1280.png" alt= "logo" width = 190 height = 190 >
		<h1> MILSIM by TacGearPH</h1>
	</center>
</header>

  <body>

	<nav>
		<ul>
			<li><a href="index.html">HOME</a></li>
			<li><a href="Milsim-Products.html">PRODUCTS</a></li>
			<li><a href="Milsim-About-Us.html">ABOUT US</a></li>
			<li><a href="">CONTACT US</a></li>
		</ul>
	</nav>
	<center>
	<h1> YOUR CART </h1>
		<br>
		<br>
	<h1>Checkout</h1>
  <div id="cartDetails"></div>

 <script>
    // Retrieve product details from localStorage
    let product = JSON.parse(localStorage.getItem('cartProduct'));

    function updateCartDetails() {
      if (product) {
        const cartDetailsDiv = document.getElementById('cartDetails');
        cartDetailsDiv.innerHTML = `
          <img src="${product.imageSrc}" width="490px" height="490px">
          <p>Price: ${product.price}</p>
          <p>Quantity: <button onclick="decreaseQuantity()">-</button> 
          ${product.quantity} <button onclick="increaseQuantity()">+</button></p>
          <button onclick="removeFromCart()">Remove Item</button>
        `;
      } else {
        document.getElementById('cartDetails').innerHTML = '<p>No products in cart.</p>';
      }
    }

    function increaseQuantity() {
      product.quantity++;
      localStorage.setItem('cartProduct', JSON.stringify(product));
      updateCartDetails();
    }

    function decreaseQuantity() {
      if (product.quantity > 1) {
        product.quantity--;
        localStorage.setItem('cartProduct', JSON.stringify(product));
        updateCartDetails();
      }
    }

    function removeFromCart() {
      localStorage.removeItem('cartProduct');
      updateCartDetails();
    }

    if (product) {
      // Ensure quantity is set
      if (!product.quantity) {
        product.quantity = 1;
        localStorage.setItem('cartProduct', JSON.stringify(product));
      }
      updateCartDetails();
    } else {
      document.getElementById('cartDetails').innerHTML = '<p>No products in cart.</p>';
    }
  </script>
</body>
</html>
    
